<!DOCTYPE html>
<html>
<head>
  <title>FlexLink Configurator</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <%= csrf_meta_tags %>
  <%= csp_meta_tag %>

  <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
  <%= javascript_importmap_tags %>
</head>

<body class="font-sans leading-relaxed text-gray-700">
<div class="py-5">
  <div class="text-center mb-8">
    <h1 class="text-4xl font-bold text-gray-900 mb-3">🎯 FlexLink Configuration Dashboard</h1>
    <p class="text-lg text-gray-600">Welcome to FlexLink! Ready to configure your next conveyor system?</p>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
    <div class="bg-white rounded-lg p-6 shadow-sm border border-gray-200">
      <div class="flex items-center space-x-4">
        <div class="text-3xl">📊</div>
        <div>
          <h3 class="text-2xl font-bold text-gray-900"><%= @recent_configurations.count %></h3>
          <p class="text-gray-600">Total Configurations</p>
        </div>
      </div>
    </div>
    
    <div class="bg-white rounded-lg p-6 shadow-sm border border-gray-200">
      <div class="flex items-center space-x-4">
        <div class="text-3xl">✅</div>
        <div>
          <h3 class="text-2xl font-bold text-gray-900"><%= @completed_configurations.count %></h3>
          <p class="text-gray-600">Completed</p>
        </div>
      </div>
    </div>
    
    <div class="bg-white rounded-lg p-6 shadow-sm border border-gray-200">
      <div class="flex items-center space-x-4">
        <div class="text-3xl">🔄</div>
        <div>
          <h3 class="text-2xl font-bold text-gray-900"><%= @active_configurations.count %></h3>
          <p class="text-gray-600">In Progress</p>
        </div>
      </div>
    </div>
    
    <div class="bg-white rounded-lg p-6 shadow-sm border border-gray-200">
      <div class="flex items-center space-x-4">
        <div class="text-3xl">💰</div>
        <div>
          <h3 class="text-2xl font-bold text-gray-900">$<%= number_with_delimiter(@total_value || 0) %></h3>
          <p class="text-gray-600">Total Value</p>
        </div>
      </div>
    </div>
  </div>

  <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
    <div class="bg-gradient-to-br from-red-600 to-red-700 rounded-lg p-6 text-white">
      <div class="flex justify-between items-start">
        <div class="flex-1">
          <h2 class="text-xl font-bold mb-2">🚀 Start New Configuration!!!</h2>
          <p class="text-red-100 mb-4">Begin the guided wizard to create a new conveyor system configuration</p>
          <%= link_to "Start Wizard", wizard_step_path(1), class: "inline-block bg-white text-red-600 px-6 py-3 rounded-lg font-medium hover:bg-gray-100 transition-colors" %>
        </div>
        <div class="text-4xl ml-4">⚙️</div>
      </div>
    </div>

    <div class="bg-gradient-to-br from-gray-600 to-gray-700 rounded-lg p-6 text-white">
      <div class="flex justify-between items-start">
        <div class="flex-1">
          <h2 class="text-xl font-bold mb-2">📦 Browse Products</h2>
          <p class="text-gray-100 mb-4">Explore our comprehensive catalog of conveyor systems and components</p>
          <%= link_to "View Products", products_path, class: "inline-block bg-white text-gray-600 px-6 py-3 rounded-lg font-medium hover:bg-gray-100 transition-colors" %>
        </div>
        <div class="text-4xl ml-4">📦</div>
      </div>
    </div>
    
    <div class="bg-white rounded-lg p-6 shadow-sm border border-gray-200">
      <div class="flex justify-between items-start">
        <div class="flex-1">
          <h3 class="text-lg font-semibold text-gray-900 mb-4">📋 Recent Configurations</h3>
          <% if @recent_configurations.any? %>
            <div class="space-y-3">
              <% @recent_configurations.limit(3).each do |config| %>
                <div class="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
                  <div>
                    <h4 class="font-medium text-gray-900"><%= config.name %></h4>
                    <p class="text-sm text-gray-600"><%= config.system_type&.humanize %> • <%= config.status.humanize %></p>
                  </div>
                  <%= link_to "View", configuration_path(config), class: "text-sm bg-gray-200 text-gray-700 px-3 py-1 rounded hover:bg-gray-300 transition-colors" %>
                </div>
              <% end %>
            </div>
          <% else %>
            <p class="text-gray-500 italic">No configurations yet. Start your first one!</p>
          <% end %>
        </div>
      </div>
    </div>
  </div>

  <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
    <div class="bg-white rounded-lg p-6 shadow-sm border border-gray-200">
      <h3 class="text-lg font-semibold text-gray-900 mb-4">🔧 System Types Available</h3>
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
        <% @system_specifications&.each do |category, types| %>
          <div class="border border-gray-200 rounded-lg p-4">
            <h4 class="font-medium text-gray-900 mb-2"><%= category.humanize %></h4>
            <div class="space-y-1">
              <% types.each do |type| %>
                <span class="inline-block bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded mr-1 mb-1"><%= type %></span>
              <% end %>
            </div>
          </div>
        <% end %>
      </div>
    </div>

    <div class="bg-white rounded-lg p-6 shadow-sm border border-gray-200">
      <h3 class="text-lg font-semibold text-gray-900 mb-4">⚙️ Component Categories</h3>
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
        <% @component_types&.each do |type| %>
          <div class="border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors cursor-pointer">
            <h4 class="font-medium text-gray-900"><%= type.humanize %></h4>
            <p class="text-sm text-gray-600">Browse <%= type.downcase %> components</p>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>
</body>
</html> 