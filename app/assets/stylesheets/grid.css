/* FlexLink Responsive Grid System */
/* Production-ready grid utilities for main application */

/* Responsive grid variables and breakpoints */
:root {
    /* defaults (XS) */
    --cols: 3;
    --gutter: 12px;
    --grid-max: 99999px;
    /* capped in L only */
    --grid-width: calc(min(100vw - 48px, var(--grid-max)));
    --col: calc((var(--grid-width) - (var(--cols) - 1) * var(--gutter)) / var(--cols));
}

/* S ≥ 284 content → viewport ≥ 332 */
@media (min-width: 332px) {
    :root {
        --cols: 6;
        --gutter: 12px;
        --grid-width: calc(min(100vw - 48px, var(--grid-max)));
        --col: calc((var(--grid-width) - (var(--cols) - 1) * var(--gutter)) / var(--cols));
    }
}

/* M ≥ 580 content → viewport ≥ 628; dynamic gutters */
@media (min-width: 628px) {
    :root {
        --cols: 12;
        --grid-width: calc(min(100vw - 48px, var(--grid-max)));
        /* dynamic gutter based on available width: leftover per gap between 12px and 24px */
        --gutter: clamp(12px, calc((var(--grid-width) - 62px * var(--cols)) / (var(--cols) - 1)), 24px);
        --col: calc((var(--grid-width) - (var(--cols) - 1) * var(--gutter)) / var(--cols));
    }
}

/* L ≥ 1172 content → viewport ≥ 1220; cap width */
@media (min-width: 1220px) {
    :root {
        --cols: 24;
        --grid-max: 1512px;
        /* Use viewport-relative calculation to avoid circular dependency */
        --gutter: clamp(12px, calc((min(100vw - 48px, 1512px) - 24 * 40px) / 23), 24px);
        --grid-width: calc(min(100vw - 48px, var(--grid-max)));
        --col: calc((var(--grid-width) - (var(--cols) - 1) * var(--gutter)) / var(--cols));
    }
}

/* Grid container */
.grid-container {
    width: var(--grid-width);
    margin: 0 auto;
}

/* Responsive grid layout */
.grid {
    display: grid;
    grid-template-columns: repeat(var(--cols), var(--col));
    column-gap: var(--gutter);
    row-gap: 16px;
}

/* Default grid span */
.col-span-full { grid-column: auto / span 3; }

/* Grid span utility classes for all breakpoints */
/* Base/XS spans */
.col-span-1 { grid-column: auto / span 1; }
.col-span-2 { grid-column: auto / span 2; }
.col-span-3 { grid-column: auto / span 3; }
.col-span-4 { grid-column: auto / span 4; }
.col-span-5 { grid-column: auto / span 5; }
.col-span-6 { grid-column: auto / span 6; }
.col-span-7 { grid-column: auto / span 7; }
.col-span-8 { grid-column: auto / span 8; }
.col-span-9 { grid-column: auto / span 9; }
.col-span-10 { grid-column: auto / span 10; }
.col-span-11 { grid-column: auto / span 11; }
.col-span-12 { grid-column: auto / span 12; }
.col-span-13 { grid-column: auto / span 13; }
.col-span-14 { grid-column: auto / span 14; }
.col-span-15 { grid-column: auto / span 15; }
.col-span-16 { grid-column: auto / span 16; }
.col-span-17 { grid-column: auto / span 17; }
.col-span-18 { grid-column: auto / span 18; }
.col-span-19 { grid-column: auto / span 19; }
.col-span-20 { grid-column: auto / span 20; }
.col-span-21 { grid-column: auto / span 21; }
.col-span-22 { grid-column: auto / span 22; }
.col-span-23 { grid-column: auto / span 23; }
.col-span-24 { grid-column: auto / span 24; }

/* S breakpoint spans */
@media (min-width: 332px) {
    .col-span-full { grid-column: auto / span 6; }
    .sm\:col-span-1 { grid-column: auto / span 1; }
    .sm\:col-span-2 { grid-column: auto / span 2; }
    .sm\:col-span-3 { grid-column: auto / span 3; }
    .sm\:col-span-4 { grid-column: auto / span 4; }
    .sm\:col-span-5 { grid-column: auto / span 5; }
    .sm\:col-span-6 { grid-column: auto / span 6; }
    .sm\:col-span-7 { grid-column: auto / span 7; }
    .sm\:col-span-8 { grid-column: auto / span 8; }
    .sm\:col-span-9 { grid-column: auto / span 9; }
    .sm\:col-span-10 { grid-column: auto / span 10; }
    .sm\:col-span-11 { grid-column: auto / span 11; }
    .sm\:col-span-12 { grid-column: auto / span 12; }
    .sm\:col-span-13 { grid-column: auto / span 13; }
    .sm\:col-span-14 { grid-column: auto / span 14; }
    .sm\:col-span-15 { grid-column: auto / span 15; }
    .sm\:col-span-16 { grid-column: auto / span 16; }
    .sm\:col-span-17 { grid-column: auto / span 17; }
    .sm\:col-span-18 { grid-column: auto / span 18; }
    .sm\:col-span-19 { grid-column: auto / span 19; }
    .sm\:col-span-20 { grid-column: auto / span 20; }
    .sm\:col-span-21 { grid-column: auto / span 21; }
    .sm\:col-span-22 { grid-column: auto / span 22; }
    .sm\:col-span-23 { grid-column: auto / span 23; }
    .sm\:col-span-24 { grid-column: auto / span 24; }
}

/* M breakpoint spans */
@media (min-width: 628px) {
    .col-span-full { grid-column: auto / span 12; }
    .md\:col-span-1 { grid-column: auto / span 1; }
    .md\:col-span-2 { grid-column: auto / span 2; }
    .md\:col-span-3 { grid-column: auto / span 3; }
    .md\:col-span-4 { grid-column: auto / span 4; }
    .md\:col-span-5 { grid-column: auto / span 5; }
    .md\:col-span-6 { grid-column: auto / span 6; }
    .md\:col-span-7 { grid-column: auto / span 7; }
    .md\:col-span-8 { grid-column: auto / span 8; }
    .md\:col-span-9 { grid-column: auto / span 9; }
    .md\:col-span-10 { grid-column: auto / span 10; }
    .md\:col-span-11 { grid-column: auto / span 11; }
    .md\:col-span-12 { grid-column: auto / span 12; }
    .md\:col-span-13 { grid-column: auto / span 13; }
    .md\:col-span-14 { grid-column: auto / span 14; }
    .md\:col-span-15 { grid-column: auto / span 15; }
    .md\:col-span-16 { grid-column: auto / span 16; }
    .md\:col-span-17 { grid-column: auto / span 17; }
    .md\:col-span-18 { grid-column: auto / span 18; }
    .md\:col-span-19 { grid-column: auto / span 19; }
    .md\:col-span-20 { grid-column: auto / span 20; }
    .md\:col-span-21 { grid-column: auto / span 21; }
    .md\:col-span-22 { grid-column: auto / span 22; }
    .md\:col-span-23 { grid-column: auto / span 23; }
    .md\:col-span-24 { grid-column: auto / span 24; }
}

/* L breakpoint spans */
@media (min-width: 1220px) {
    .col-span-full { grid-column: auto / span 24; }
    .lg\:col-span-1 { grid-column: auto / span 1; }
    .lg\:col-span-2 { grid-column: auto / span 2; }
    .lg\:col-span-3 { grid-column: auto / span 3; }
    .lg\:col-span-4 { grid-column: auto / span 4; }
    .lg\:col-span-5 { grid-column: auto / span 5; }
    .lg\:col-span-6 { grid-column: auto / span 6; }
    .lg\:col-span-7 { grid-column: auto / span 7; }
    .lg\:col-span-8 { grid-column: auto / span 8; }
    .lg\:col-span-9 { grid-column: auto / span 9; }
    .lg\:col-span-10 { grid-column: auto / span 10; }
    .lg\:col-span-11 { grid-column: auto / span 11; }
    .lg\:col-span-12 { grid-column: auto / span 12; }
    .lg\:col-span-13 { grid-column: auto / span 13; }
    .lg\:col-span-14 { grid-column: auto / span 14; }
    .lg\:col-span-15 { grid-column: auto / span 15; }
    .lg\:col-span-16 { grid-column: auto / span 16; }
    .lg\:col-span-17 { grid-column: auto / span 17; }
    .lg\:col-span-18 { grid-column: auto / span 18; }
    .lg\:col-span-19 { grid-column: auto / span 19; }
    .lg\:col-span-20 { grid-column: auto / span 20; }
    .lg\:col-span-21 { grid-column: auto / span 21; }
    .lg\:col-span-22 { grid-column: auto / span 22; }
    .lg\:col-span-23 { grid-column: auto / span 23; }
    .lg\:col-span-24 { grid-column: auto / span 24; }
}